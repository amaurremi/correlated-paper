\newcommand{\denote}[1]{\left\llbracket#1\right\rrbracket}

\newcommand{\inputMinted}[2]{\lstinputlisting[language=#1]{code/#2}}
\newcommand{\inputMintedNoLNs}[2]{\lstinputlisting[language=#1,numbers=none]{code/#2}}

\definecolor{bg}{rgb}{0.95,0.95,0.95}

\counterwithout{footnote}{chapter}

\newlength{\dist}
\setlength{\dist}{.6cm}

\newlength{\distt}
\setlength{\distt}{1cm}

\newlength{\disth}
\setlength{\disth}{1cm}

\newlength{\edge}
\setlength{\edge}{.7cm}

\newlength{\longedge}
\setlength{\longedge}{1.7cm}

\newlength{\nd}
\setlength{\nd}{.6cm}

\newlength{\ndd}
\setlength{\ndd}{.5cm}

\let\oldexample\example
\renewcommand{\example}{\oldexample\normalfont}

\tikzset{>=latex,on grid, auto}

\tikzset{
  ashadow/.style={
    opacity=.25,
    shadow xshift=0.07,
    shadow yshift=-0.07
  }
}
\tikzstyle{supergraph}=[
  fill=greyblue,
  rounded corners,
  font=\small,
  align=right,
  text=charcoal,
  drop shadow={ashadow, color=greyblue}
]

\newcommand{\backEq}{\mathcal U^\equiv}
\newcommand{\backCC}{\mathcal U^\Subset}
\newcommand{\transEq}{\mathcal T^\equiv}
\newcommand{\transCC}{\mathcal T^\Subset}

\newcommand{\rcc}{{R^\Subset}}
\newcommand{\lcc}{L^\Subset}

\newcommand{\result}[1]{\mathcal R_{\text{#1}}}
\newcommand{\resultIFDS}{\result{IFDS}}
\newcommand{\resultIDE}{\result{IDE}}

\newcommand{\updmap}[1]{\textsf{update}_{#1}}
\newcommand{\updfun}[1]{\textsf{update}_{#1,\,r}}

\newcommand{\setpair}[2]{\left\langle #1,\,#2\right\rangle}

\newcommand{\highlight}[2]{\setlength{\fboxsep}{1pt}\colorbox{#2}{$\displaystyle #1$}}

\newcommand{\ione}{I_{f_1,\,r}}
\newcommand{\itwo}{I_{f_2,\,r}}
\newcommand{\uone}{U_{f_1,\,r}}
\newcommand{\utwo}{U_{f_2,\,r}}

\newcommand{\mvp}[1]{\textsf{MVP}_{#1}}
\newcommand{\ivp}{\textsf{VP}}

\newcommand{\startmain}{\textsf{start}_\texttt{main}}

\newcommand{\edgefn}{\textsf{EdgeFn}}
\newcommand{\ccedgefn}[1]{\edgefn^\Subset_{#1}}

\newcommand{\menv}{M_\textsf{Env}}

\newcommand{\topcc}{\top_\Subset}
\newcommand{\botcc}{\bot_\Subset}

\newcommand{\mpddef}[2]{\xi(#1,\,#2)}
\newcommand{\mpd}{\mpddef p d}
\newcommand{\mppd}{\mpddef{p'} d}
\newcommand{\mpdkm}{\mpddef{p}{d_{k-1}}}
\newcommand{\efek}{\ccedgefn R(e_k)(\mpdkm)(r)}

\newcommand{\id}{\textsf{id}}

\newcommand{\src}[1]{\mathsf{src}(#1)}
\newcommand{\target}[1]{\mathsf{end}(#1)}

\makeatletter
\newcommand*{\savecbcolor}{%
  \let\saved@cb@current@color\cb@current@color
}
\newcommand*{\restorecbcolor}{%
  \global\let\cb@current@color\saved@cb@current@color
}
\makeatother

\newcommand{\code}[1]{\textsf{#1}}  
\lstdefinelanguage{scala}[]{Java}{
   morekeywords={trait,def,object,with,override,val,type,var} 
}

\lstdefinestyle{Eclipse}{
  xleftmargin=0pt,
  language = scala,
  basicstyle=\sffamily\small,
  stringstyle=\color{sh_string},
  keywordstyle = \color{sh_keyword}\bfseries,  %}
  lineskip=-0.0em,
  commentstyle=\color{sh_comment}\itshape,  
  escapeinside={/*@}{@*/},
  numbersep=5pt,
  captionpos=b,
  xleftmargin=0.4cm, xrightmargin=0.5cm,
   morekeywords={invokestatic,invokeinterface,invokevirtual,invokespecial},
}


\lstset{
  showspaces=false,showtabs=false,tabsize=2,columns=flexible,
  morekeywords={trait,def,object,with},
  language={scala},
  style=Eclipse,
  numbers=left,
  numberstyle=\scriptsize\color{CommentColor},
  firstnumber=last,
  showstringspaces=true
}  

\abovedisplayshortskip=0pt
\belowdisplayshortskip=0pt
\abovedisplayskip=0pt
\belowdisplayskip=0pt

\newcommand{\reportOrAppendix}{\paper{Technical Report~\cite{techrep}}\techreport{Appendix}}